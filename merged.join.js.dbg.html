// Code to bootstrap the page<br/><br/>(function(jQuery)<br/>{<br/><br/>	jQuery(function()<br/>	{<br/><br/>		// ####################################################################################<br/><br/>		// mark body tag for selectors if javascript is enabled<br/>		jQuery('body').addClass('js').removeClass('no-js');<br/><br/>		function columnize ()<br/>		{<br/><br/>			// get item from previous run or<br/>			var columnized = jQuery(this).next();<br/><br/>			// ... create new to put columnized content<br/>			if ( ! columnized.hasClass('columnized') )<br/>			{ columnized = jQuery('[div class="columnized"]') }<br/><br/>			// add target to page<br/>			jQuery(this).after(columnized);<br/><br/>			// show for correct measuring<br/>			jQuery(columnized).css({<br/>				'display' : 'block'<br/>			});<br/><br/>			// columnize every elements<br/>			jQuery(this).css({<br/>				'display' : 'block'<br/>			}).columnize({<br/>				columns: 2,<br/>				buildOnce: true,<br/>				target: columnized,<br/>				lastNeverTallest : true<br/>			}).css({<br/>				'display' : ''<br/>			});<br/><br/>			// remove explicit show<br/>			jQuery(columnized).css({<br/>				'display' : ''<br/>			});<br/><br/>		}<br/><br/>		// ####################################################################################<br/><br/>		// create query levels object with all responsive breakpoints<br/>		var querylevels = { XXS: 10, XS: 20, S: 30, M: 50, L: 70, XL: 80, XXL : 90 };<br/><br/>		// init mediaquery object to attach event handlers and query current status<br/>		window.mediaquery = new ocbnet.mediaquery (70, querylevels);<br/><br/>		// ####################################################################################<br/><br/>		// register deferred layout manager call (run after anythin else)<br/>		window.setTimeout(function () { OCBNET.Layout(true); }, 0);<br/><br/>		// ####################################################################################<br/><br/>		// process all elements to be columnized<br/>		jQuery('.columnize').each(function ()<br/>		{<br/><br/>			mediaquery.onChangeAndInit(jQuery.proxy(columnize, this));<br/><br/>		});<br/>		// EO each .columnize<br/><br/>		// ####################################################################################<br/><br/>		// sets focus class on parent node<br/>		ocbnet.legacy.focus('#nav-top A',<br/>			function() { return this.parents('LI') }<br/>		);<br/><br/>		// ####################################################################################<br/><br/>		// browser detection - feature detection<br/>		// did not to work for 'content' or ':after'<br/>		var agent = navigator.appName.toLowerCase();<br/>		var version = parseInt(navigator.appVersion, 10);<br/><br/>		// minor and easy fix for ie7 and below for fontawesome<br/>		if ((agent == "microsoft internet explorer" || agent == "ie") && version [= 7)<br/>		{<br/>			// add the char directly into the html<br/>			jQuery('#footer .social .twitter A').html("");<br/>			jQuery('#footer .social .youtube A').html("");<br/>			jQuery('#footer .social .facebook A').html("");<br/>		}<br/><br/>		// ####################################################################################<br/><br/>	})<br/>})<br/>(jQuery);<br/><br/>// Code to bootstrap the menu<br/><br/>(function(jQuery)<br/>{<br/>	jQuery(function()<br/>	{<br/><br/>		// ####################################################################################<br/>		var menu = jQuery.jPanelMenu({<br/><br/>			duration: 300,<br/>			menu: '#nav-top',<br/>			direction: 'right',<br/>			openPosition: '300px',<br/>			shiftFixedChildren: true,<br/>			trigger: '.menu-toggle A',<br/><br/>			before: function()<br/>			{<br/>				// use as much space as available, but not more than 300 pixels<br/>				this.openPosition = Math.min(300, jQuery(document).width() - 55)<br/>				// update some internal jPanelMenu styles<br/>				jQuery(menu.menu).width(this.openPosition);<br/>			}<br/><br/>		});<br/><br/>		jQuery(window).on('resize', jQuery.proxy(menu.close, menu));<br/><br/>		// start<br/>		menu.on();<br/><br/>		mediaquery.onChange(function (cur, prv)<br/>		{<br/><br/>			// if (prv ] 20 && cur [= 20) menu.on()<br/>			// if (prv [= 20 && cur ] 20) menu.off()<br/><br/>		});<br/>/*<br/><br/><br/>		jQuery('#nav-top').wrapInner('[DIV]');<br/><br/>		jQuery('.menu-toggle').sidr({<br/>			side: 'right',<br/>			name: 'top-menu',<br/>			source: '#nav-top]DIV'<br/>		});<br/><br/>*/<br/>		// jQuery('.sidr.right').addClass('jPanelMenu');<br/><br/>		// jQuery.sidr('toggle', 'top-menu');<br/><br/>		// ####################################################################################<br/><br/>	})<br/>})<br/>(jQuery);<br/><br/>// Code to bootstrap the page<br/><br/>(function(jQuery)<br/>{<br/>	jQuery(function()<br/>	{<br/><br/>		// ####################################################################################<br/><br/>		// mark body tag for selectors if javascript is enabled<br/>		jQuery('.tiles').each(function (i, root)<br/>		{<br/><br/>			// get array with all tiles<br/>			var tiles = jQuery('.tile', root).toArray();<br/><br/>			// get layout position/priority array<br/>			var prios = jQuery.map(tiles, function (tile)<br/>			{<br/>				return [ jQuery.map(<br/>					jQuery(tile).data('pos').split(/\s*,\s*/),<br/>					function (prio) { return [ prio.split(/\s*:\s*/) ] })<br/>				];<br/>			});<br/><br/>			// create overlay for tiles<br/>			jQuery.each(tiles, function (t, tile)<br/>			{<br/>				jQuery(tile).filter('.overlay')<br/>				.find('A').each(function (a, lnk)<br/>				{<br/>					jQuery(lnk).append(<br/>						jQuery('[span class="overlay"]').append(<br/>							jQuery('[span class="inner"]').text(<br/>								jQuery(lnk).find('IMG').prop('alt')<br/>							)<br/>						)<br/>					)<br/>				});<br/>			});<br/><br/>			var cache = [];<br/><br/>			// layout function<br/>			function layout (mode, width)<br/>			{<br/><br/>				// fluid mode<br/>				if (mode == 4)<br/>				{<br/>					// reset tiles<br/>					jQuery(tiles).css({<br/>						'top': '',<br/>						'left': '',<br/>						'width': '',<br/>						'height': '',<br/>						'position': ''<br/>					})<br/>					// reset root<br/>					jQuery(root).css({<br/>						'height': ''<br/>					});<br/>				}<br/>				// layout myself<br/>				else<br/>				{<br/><br/>					// use cache<br/>					if (!cache[mode])<br/>					{<br/><br/>						// create defaults for all tiles<br/>						var i = prios.length; while (i--)<br/>						{<br/>							// create array for tile<br/>							// stores different modes<br/>							if (!prios[i]) prios[i] = [];<br/>							// stores col and prio by mode<br/>							if (!prios[i][mode]) prios[i][mode] = [];<br/>							// check if tile has column set<br/>							if (typeof prios[i][mode][0] == 'undefined')<br/>							{<br/>								var min = 1; var max = mode == 2 ? 3 : 2;<br/>								if (mode ]= 2 && jQuery(tiles[i]).is('.tile-wide,.tile-big')) max --;<br/>								prios[i][mode][0] = Math.floor(Math.random() * (max - min + 1)) + min;<br/>							}<br/>							// check if tile has priority set<br/>							if (typeof prios[i][mode][1] == 'undefined')<br/>							{<br/>								prios[i][mode][1] = Math.floor(Math.random() * (20));<br/>							}<br/>						}<br/><br/>						// create empty distribution<br/>						var cols = [[],[],[],[],[],[]];<br/><br/>						// distribute tiles to cols<br/>						for (var col = 0; col [ 6; col++)<br/>						{<br/>							var i = prios.length; while (i--)<br/>							{<br/>								if (prios[i][mode][0] == col)<br/>								{ cols[col].push(i); }<br/>							}<br/>						}<br/><br/>						// sort cols by priorities<br/>						for (var col = 0; col [ 6; col++)<br/>						{<br/>							cols[col].sort(function (a, b)<br/>							{<br/>								return prios[a][mode][1] - prios[b][mode][1];<br/>							})<br/>						}<br/><br/>						// store to cache<br/>						cache[mode] = cols;<br/><br/>					}<br/><br/>					// assign from cache<br/>					var cols = cache[mode];<br/><br/>					// left position<br/>					var left = - width;<br/><br/>					// maximum height<br/>					var maxheight = 0;<br/><br/>					// store layout gaps<br/>					var gaps_cur = [];<br/><br/>					// layout tiles in cols<br/>					for (var col = 0; col [ 6; col++)<br/>					{<br/><br/>						// store next gaps<br/>						var gaps_right = [];<br/><br/>						// top position<br/>						var top = 0;<br/><br/>						// layout tiles in cols<br/>						for (var row = 0; row [ cols[col].length; row++)<br/>						{<br/><br/>							// get the tile index<br/>							var i = cols[col][row]<br/>							// get the tile node<br/>							var tile = tiles[i];<br/>							// and the prio object<br/>							var prio = prios[i];<br/><br/>							// calc z-index<br/>							var zindex = 100;<br/><br/>							// put into foreground if the tile will move<br/>							if (parseInt(jQuery(tile).css('top')) != top) zindex = 98000;<br/>							if (parseInt(jQuery(tile).css('left')) != left) zindex = 99000;<br/><br/>							zindex += row;<br/><br/>							// position tile<br/>							jQuery(tile).css({<br/>								'top' : top + 'px',<br/>								'left' : left + 'px',<br/>								'z-index' : zindex,<br/>								'position' : 'absolute'<br/>							});<br/><br/>							// get the height of the tile<br/>							var height = jQuery(tile).height();<br/><br/>							// check if we are in a gap<br/>							while (gaps_cur.length ] 0)<br/>							{<br/>								// avoid gaps<br/>								if (<br/>									// start is in gap<br/>									top ] gaps_cur[0][0] ||<br/>									// or end will be in gap<br/>									top + height ] gaps_cur[0][0]<br/>								)<br/>								{<br/>									var gap = gaps_cur.shift();<br/>									top = gap[0] + gap[1];<br/>								}<br/>								// abort while<br/>								else break;<br/>							}<br/><br/><br/>							// position tile<br/>							jQuery(tile).css({<br/>								'top' : top + 'px'<br/>							});<br/><br/>							// store gaps for next col<br/>							if (<br/>								jQuery(tile).hasClass('tile-big') ||<br/>								jQuery(tile).hasClass('tile-wide')<br/>							)<br/>							{<br/>								gaps_right.push([top, height]);<br/>							}<br/><br/>							// increase offset<br/>							top += height;<br/><br/>						}<br/><br/>						maxheight = Math.max(maxheight, top);<br/><br/>						// shift gaps array<br/>						gaps_cur = gaps_right;<br/><br/>						// increase offset<br/>						left += width;<br/><br/>					}<br/><br/>					jQuery(root).css('height', maxheight);<br/><br/>				}<br/><br/>				// create defaults for all tiles<br/>				var n = prios.length; while (n--)<br/>				{<br/>					jQuery('.toolbar .status', tiles[n]).text((prios[n][mode] || []).join(':'));<br/>				}<br/><br/>			}<br/>			// EO Layout<br/><br/>			// call initial layout only if mediaquery<br/>			// will not dispatch a change event itself<br/>			if (mediaquery.getLevel() == 70) layout(1, 245);<br/><br/>			// called when mediaquery changes<br/>			mediaquery.onChange(function ()<br/>			{<br/><br/>				// layout mode<br/>				var mode = 4;<br/>				// tiles width<br/>				var width = 295;<br/><br/>				// change according to mediaquery<br/>				if      (mediaquery.ge(90)) { mode = 0; width = 295; } // XXL<br/>				else if (mediaquery.ge(80)) { mode = 1; width = 295; } // XL<br/>				else if (mediaquery.ge(70)) { mode = 1; width = 245; } // L<br/>				else if (mediaquery.ge(50)) { mode = 1; width = 235; } // M<br/>				else if (mediaquery.ge(30)) { mode = 2; width = 235; } // S<br/>				else if (mediaquery.ge(20)) { mode = 3; width = 270; } // XS<br/>				else if (mediaquery.ge(10)) { mode = 4; width = 'auto'; } // XXS<br/><br/>				// execute layout<br/>				layout(mode, width)<br/><br/>			});<br/>			// EO onChange<br/><br/>			function move (i, action)<br/>			{<br/><br/>				// layout mode<br/>				var mode = 4;<br/>				// tiles width<br/>				var width = 295;<br/><br/>				// change according to mediaquery<br/>				if      (mediaquery.ge(90)) { mode = 0; width = 295; } // XXL<br/>				else if (mediaquery.ge(80)) { mode = 1; width = 295; } // XL<br/>				else if (mediaquery.ge(70)) { mode = 1; width = 245; } // L<br/>				else if (mediaquery.ge(50)) { mode = 1; width = 235; } // M<br/>				else if (mediaquery.ge(30)) { mode = 2; width = 235; } // S<br/>				else if (mediaquery.ge(20)) { mode = 3; width = 270; } // XS<br/>				else if (mediaquery.ge(10)) { mode = 4; width = 'auto'; } // XXS<br/><br/>			// get layout position/priority array<br/>				var pos = jQuery.map(<br/>					jQuery(this).data('pos').split(/\s*,\s*/),<br/>					function (prio) { return [ prio.split(/\s*:\s*/) ] }<br/>				);<br/><br/>				delete cache[mode];<br/><br/>				if (action == "up") prios[i][mode][1] --;<br/>				if (action == "down") prios[i][mode][1] ++;<br/>				if (action == "left") prios[i][mode][0] --;<br/>				if (action == "right") prios[i][mode][0] ++;<br/><br/>				if (prios[i][mode][0] [ 0) prios[i][mode][0] = 0;<br/>				if (prios[i][mode][0] ] 5) prios[i][mode][0] = 5;<br/><br/>				// execute layout<br/>				layout(mode, width)<br/><br/>				return false;<br/><br/>			}<br/><br/>			var mode = 0; var width = 295;<br/><br/>			// change according to mediaquery<br/>			if      (mediaquery.ge(90)) { mode = 0; width = 295; } // XXL<br/>			else if (mediaquery.ge(80)) { mode = 1; width = 295; } // XL<br/>			else if (mediaquery.ge(70)) { mode = 1; width = 245; } // L<br/>			else if (mediaquery.ge(50)) { mode = 1; width = 235; } // M<br/>			else if (mediaquery.ge(30)) { mode = 2; width = 235; } // S<br/>			else if (mediaquery.ge(20)) { mode = 3; width = 270; } // XS<br/>			else if (mediaquery.ge(10)) { mode = 4; width = 'auto'; } // XXS<br/><br/>			/*<br/>			jQuery(tiles).each(function (i, tile)<br/>			{<br/>				var toolbar = jQuery('[div class="toolbar"]');<br/>				toolbar.append(jQuery('[a href="#" class="up"]Up[/a]').on('click', jQuery.proxy(move, tile, i, 'up')));<br/>				toolbar.append(jQuery('[a href="#" class="down"]Down[/a]').on('click', jQuery.proxy(move, tile, i, 'down')));<br/>				toolbar.append(jQuery('[a href="#" class="left"]Left[/a]').on('click', jQuery.proxy(move, tile, i, 'left')));<br/>				toolbar.append(jQuery('[a href="#" class="right"]Right[/a]').on('click', jQuery.proxy(move, tile, i, 'right')));<br/>				toolbar.append(jQuery('[span class="status"]' + (prios[i][mode] || []).join(':') + '[/span]'));<br/>				jQuery(tile).append(toolbar)<br/>			});<br/>			*/<br/><br/>		});<br/><br/>		// ####################################################################################<br/><br/>	})<br/>})<br/>(jQuery);<br/><br/>// Code to bootstrap the page<br/><br/>(function(jQuery)<br/>{<br/>	jQuery(function(jQuery)<br/>	{<br/><br/>		var infobox = jQuery('[DIV]').css({<br/>			'top' : '0px',<br/>			'left' : '0px',<br/>			'z-index' : '999999',<br/>			'padding' : '4px 8px',<br/>			'position' : 'fixed',<br/>			'border' : '3px solid red',<br/>			'background-color' : 'white'<br/>		});<br/><br/>		function updateInfobox ()<br/>		{<br/>			infobox.text(<br/>				mediaquery.getCurrentIdent()<br/>			);<br/>		}<br/><br/>		jQuery('BODY').append(infobox);<br/><br/>		// demo for media query scope<br/>		// output message for developers<br/>		mediaquery.onChange(function (to, from)<br/>		{<br/><br/>			// resolve numbers to ids<br/>			to = mediaquery.getIdent(to);<br/>			from = mediaquery.getIdent(from);<br/><br/>			// print out a message about the scope change<br/>			console.log('changed media query scope from ', from, ' to ', to, ' at ', $('body').innerWidth());<br/><br/>			// update infobox<br/>			updateInfobox();<br/><br/>		}, -9999);<br/>		// EO mediaquery.onChange<br/><br/>		// update infobox on resize<br/>		jQuery(window).on('resize', updateInfobox);<br/><br/>		// enable some specific dev hotkeys<br/>		jQuery(document).on('keypress', function (evt)<br/>		{<br/><br/>			if (evt.charCode == 103) jQuery('BODY').toggleClass('grid');<br/><br/>		});<br/><br/>		// call on load<br/>		updateInfobox();<br/><br/>	})<br/>